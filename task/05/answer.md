# 1

### サードパーティクッキーとファーストパーティクッキーの違い

- `サードパーティクッキー` : ユーザがアクセスした Web サイトのドメインとは異なるドメインが発行した Cookie
- `ファーストパーティクッキー` : ユーザがアクセスした Web サイトのドメインと同じドメインが発行した Cookie

### サードパーティ Cookie を用いて広告配信ネットワーク（例えば Google AdSense など）がどのようにユーザの訪問履歴を把握しているのか

1.  サードパーティのドメインにリクエストを送信したクライアントに、一意に識別可能な Cookie を送信
2.  同じクライアントがサードパーティのドメインにリクエストを送信してきた場合、1.で設定した Cookie を参照
3.  2.からクライアント情報を一意に取得し、ユーザーの訪問履歴を把握することができる

### サードパーティークッキーはどのように生成されるのか

1. サードパーティで配信されている画像や、サードパーティにリクエストを飛ばすスクリプトをファーストパーティのページに埋め込む
2. ファーストパーティのページにアクセスしたユーザがサードパーティにリクエストする
3. サードパーティから Cookie が返る

### サードパーティクッキーの扱いはブラウザによってどのような差があるのか

- Safari はサードパーティクッキーの使用を禁止している
- Chrome は 2022 年までにサードパーティクッキーの利用を禁止する予でいる(現在はしていない)

### ドメインは同一で、ポートが異なるクッキーはファーストパーティクッキーか？サードパーティクッキーか？（hoge.com:8080 と hoge.com:8081 など）

- ドメイン依存のため、ファーストパーティクッキー。

# 2

※別ファイル参照

本ディレクトリ上(`task/05`)から以下コマンドで確認可

```
1. パッケージのインストール
$ yarn install

2. サーバ起動
$ yarn dev

3. (別タブで行う)localhostの8081番でlistenしているサーバをngrokで公開。
$ ngrok http 8081

4. 生成されたドメインでpublic配下のhtmlにあるsrcを修正。

5. localhost:8080にアクセスし、
   デベロッパーツールの[Application]タブを選択。
   左ペインのメニューから［Storage］－［Cookies］を展開し、
   Cookieが２件登録されていることを確認する。


```
